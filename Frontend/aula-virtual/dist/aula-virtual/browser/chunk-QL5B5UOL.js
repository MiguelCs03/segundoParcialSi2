import{a as R}from"./chunk-UOSVOCXT.js";import"./chunk-KOVQJSC4.js";import{a as f}from"./chunk-I3GQ3KJJ.js";import{$ as v,Da as C,Ea as E,G as o,I as p,Ia as k,J as h,Ma as S,N as u,Pa as w,Q as d,Sa as M,U as e,Ua as A,V as i,Va as D,W as _,Xa as F,Z as y,_ as c,fa as a,ga as s,ha as I,oa as g,w as b,x}from"./chunk-4LX2SAQG.js";var O=n=>["/profesor/materia",n,"asistencia"],$=n=>["/profesor/materia",n,"reporte-asistencia"];function V(n,l){if(n&1&&(e(0,"tr",21)(1,"td",12),a(2),i(),e(3,"td",12),a(4),i()()),n&2){let t=l.$implicit;o(2),s(t.nombre),o(2),s(t.id)}}function j(n,l){if(n&1){let t=y();e(0,"div",24),c("click",function(){let m=b(t).$implicit,N=v(2);return x(N.irACalificar(m.id))}),e(1,"h3",25),a(2),i(),e(3,"p",26),a(4),i(),e(5,"p",27),a(6),i()()}if(n&2){let t=l.$implicit;o(2),s(t.nombre),o(2),s(t.descripcion),o(2),I("Fecha: ",t.fechaCreacion,"")}}function L(n,l){if(n&1&&(e(0,"div",22),u(1,j,7,3,"div",23),i()),n&2){let t=v();o(),d("ngForOf",t.actividades)}}function H(n,l){n&1&&(e(0,"p",28),a(1,"No hay actividades asignadas."),i())}var T=class n{constructor(l,t,r){this.route=l;this.http=t;this.router=r}detalleId;estudiantes=[];actividades=[];ngOnInit(){this.detalleId=Number(this.route.snapshot.paramMap.get("id")),this.cargarEstudiantes(),this.cargarActividades()}cargarEstudiantes(){let t={Authorization:`Bearer ${localStorage.getItem("access_token")}`};this.http.get(f.apiUrl+`api/profesor/materia/${this.detalleId}/estudiantes/`,{headers:t}).subscribe({next:r=>{this.estudiantes=r},error:r=>{console.error("Error al obtener estudiantes:",r)}})}cargarActividades(){let t={Authorization:`Bearer ${localStorage.getItem("access_token")}`};this.http.get(f.apiUrl+`api/profesor/materia/${this.detalleId}/actividades/`,{headers:t}).subscribe({next:r=>{this.actividades=r},error:r=>{console.error("Error al obtener actividades:",r)}})}irACrearActividad(){this.router.navigate(["/profesor/materia",this.detalleId,"crear-actividad"])}irACalificar(l){this.router.navigate(["/profesor/materia",this.detalleId,"actividad",l,"calificar"])}irAReporteEntregas(){this.router.navigate(["/profesor/materia",this.detalleId,"reporte-entregas"])}volver(){window.history.back()}static \u0275fac=function(t){return new(t||n)(p(M),p(S),p(A))};static \u0275cmp=h({type:n,selectors:[["app-materia-detalle"]],decls:37,vars:10,consts:[[1,"flex","min-h-screen"],[1,"flex-1","p-6","bg-gray-50"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-slate-800"],[1,"flex","space-x-2"],[1,"text-sm","px-3","py-1","border","rounded","text-blue-600","border-blue-600","hover:bg-blue-100",3,"click"],[1,"text-sm","px-3","py-1","rounded","bg-indigo-600","text-white","hover:bg-indigo-700",3,"routerLink"],[1,"ml-2","bg-green-600","text-white","px-3","py-1","rounded","hover:bg-green-700",3,"routerLink"],[1,"text-gray-600","mb-4"],[1,"bg-white","rounded","shadow","overflow-hidden","mb-8"],[1,"w-full","text-left","table-auto"],[1,"bg-gray-100","text-slate-700","font-semibold"],[1,"p-3"],["class","border-b hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"bg-white","rounded","shadow","p-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-bold","text-slate-700"],[1,"bg-blue-600","text-white","px-4","py-2","rounded","hover:bg-blue-700",3,"click"],[1,"bg-green-600","text-white","px-4","py-2","rounded","hover:bg-green-700",3,"click"],["class","space-y-2",4,"ngIf"],["class","text-gray-500",4,"ngIf"],[1,"border-b","hover:bg-gray-50"],[1,"space-y-2"],["class","bg-gray-50 shadow-sm p-4 rounded border cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"bg-gray-50","shadow-sm","p-4","rounded","border","cursor-pointer",3,"click"],[1,"font-semibold","text-slate-800"],[1,"text-slate-600","text-sm"],[1,"text-slate-400","text-xs"],[1,"text-gray-500"]],template:function(t,r){t&1&&(e(0,"div",0),_(1,"app-sidebar"),e(2,"div",1)(3,"div",2)(4,"h1",3),a(5,"Detalle de la Materia"),i(),e(6,"div",4)(7,"button",5),c("click",function(){return r.volver()}),a(8," \u2190 Volver "),i(),e(9,"a",6),a(10," Tomar asistencia "),i(),e(11,"a",7),a(12," Ver reporte asistencia "),i()()(),e(13,"p",8),a(14,"ID del detalle materia: "),e(15,"strong"),a(16),i()(),e(17,"div",9)(18,"table",10)(19,"thead",11)(20,"tr")(21,"th",12),a(22,"Nombre"),i(),e(23,"th",12),a(24,"ID"),i()()(),e(25,"tbody"),u(26,V,5,2,"tr",13),i()()(),e(27,"div",14)(28,"div",15)(29,"h2",16),a(30,"Actividades"),i(),e(31,"button",17),c("click",function(){return r.irACrearActividad()}),a(32," Crear Actividad "),i(),e(33,"button",18),c("click",function(){return r.irAReporteEntregas()}),a(34," Ver Reporte Entregas "),i()(),u(35,L,2,1,"div",19)(36,H,2,0,"p",20),i()()()),t&2&&(o(9),d("routerLink",g(6,O,r.detalleId)),o(2),d("routerLink",g(8,$,r.detalleId)),o(5),s(r.detalleId),o(10),d("ngForOf",r.estudiantes),o(9),d("ngIf",r.actividades.length>0),o(),d("ngIf",r.actividades.length===0))},dependencies:[k,C,E,w,R,F,D],encapsulation:2})};export{T as MateriaDetalleComponent};
